@model RentAppMVC.Models.PrivateCustomer

@Html.HiddenFor(model => model.CustomerID)

<div class="form-group">
    <label for="firstName">First Name:</label>
    <input type="text" class="form-control" id="firstName" name="FirstName" value="@Model?.FirstName" />
</div>
<div class="form-group">
    <label for="lastName">Last Name:</label>
    <input type="text" class="form-control" id="lastName" name="LastName" value="@Model?.LastName" />
</div>
<div class="form-group">
    <label for="phoneNumber">Phone Number:</label>
    <input type="text" class="form-control" id="phoneNumber" name="PhoneNumber" value="@Model?.PhoneNumber" />
</div>

<button type="button" id="saveButton" class="btn btn-primary">Save</button>

@section Scripts {
    <script>
        $(document).ready(function () {
            $('#saveButton').click(function () {
                // Collect data from the form fields
                var customerId = $('#CustomerID').val();
                var firstName = $('#firstName').val();
                var lastName = $('#lastName').val();
                var phoneNumber = $('#phoneNumber').val();


                // Create an object to hold the data
                var privateCustomerData = {
                    CustomerID: customerId
                    FirstName: firstName,
                    LastName: lastName,
                    PhoneNumber: phoneNumber,
                };

                // Send a POST request to the controller action for saving
                $.ajax({
                    url: '@Url.Action("Save", "PrivateCustomer")',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(privateCustomerData),
                    success: function (result) {
                        // Handle success response
                        alert('Data saved to the database!');
                        // Optionally, you can redirect the user to another page
                        // window.location.href = '@Url.Action("Index", "Home")';
                    },
                    error: function (xhr, status, error) {
                        // Handle error response
                        console.error(xhr.responseText);
                        alert('An error occurred while saving data!');
                    }
                });
            });
        });
    </script>
}
